<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>native review promises</title>
  </head>
  <body>
    body
  </body>
  <script>

    //const test = fetch('https://api.github.com/users/xavierartot')
      //.then( res => res.json())
      //.then( res => res)
      //.catch( err => console.error('NOOOOOooooo', err) )
    //console.log(test.then( (r) => console.log(r,) ))

      function breathe(amount) {
        return new Promise( (resolve, reject) => {
          if (amount > 1004) {
            reject(`That is too big a value`) //reject
          }
          setTimeout( () => resolve(`done for ${amount}`), amount)
        })
      }
      breathe(1000).then( resolve => {
        console.log(resolve)
        return breathe(1001)
      })
      .then( resolve => {
        console.log(resolve)
        return breathe(1002)
      })
      .then( resolve => {
        console.log(resolve)
        return breathe(1003)
      })
      .then( resolve => {
        console.log(resolve)
        return breathe(1004)
      })
      .then( resolve => {
        console.log(resolve)
        return breathe(1005)
      })
      .then( resolve => {
        console.log(resolve)
        return breathe(1016)
      })
      .catch( err => console.error(err, ', you schrewed'))


  </script>
</html>
